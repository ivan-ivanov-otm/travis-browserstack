language: swift
osx_image: xcode9.3
before_script:
- "./scripts/setup-identity.bash"
script:
- xcodebuild archive -workspace ./source/TravisBrowserstack.xcworkspace -scheme TravisBrowserstack -configuration Release -derivedDataPath ./build -archivePath ./build/Products/travis-browserstack.xcarchive -quiet
- xcodebuild -exportArchive -archivePath ./build/Products/travis-browserstack.xcarchive -exportOptionsPlist ./scripts/export-options.plist -exportPath ./build/Products/IPA/ -quiet
- ./scripts/upload-ipa.bash
after_script:
- "./scripts/clean.bash"
env:
  global:
  - secure: izyyreHaXyvbbfUhrRDwLn9SDouDuKU7r4L08lbf4ExvpJ0ajLyClgwCKfyf/4xvk+ggtXRmsF6uufxNRhVlI/MH3dVYjsCM2zTkd2aDlKGe3wvMo99Wu+XLITaPsy5N2xSYA5xMrqxGQiV7JNKaJWo1vlHy+JWBmYYQE6tJvuaW5X7bwuE4ArOcuSdG4TXRitG4o22jP9kfopmVe2oRfPTTbbgUeHa9zYYr/EAu55RO8t3fst02DhHkiPN2OkQsWhD25agE5zJNXmNsUECNjyykyGCMMqIXVL1X7+ELbLImvc7VU+EkGiw4rTQrkF0jEstkWKie1B+L69QZgxC4z/blGuLsK9WXPXRBjeeVjZv1aXpHYv7ZmaYjllb24S/UIal5wsWYS9rjjSblCipMc2Lll4mmh4CBvpzI6mcb+HXvQACDrUuhGLJrRYAXLwTo3mtnaCE8k7yB19am1e8MXgGq3cf46mutFKJRTZA8XW1gazw4ycZs4BOBefmzDgpgR9CJ3peQdkY1eMGtOrLCdMTbZrv1v1e2Bg+gqcPyKh5MLmwNrXFt1/MlC0hhNY0QpOFaC3f0oBKM3aMaqnaKQ2ywvrb0RIWe2GGFN0vKjqpqU070UPwGyYvR5RRR3rSCNN6YH2r6mZVPWy0JgK3VfHOnHs9B0EQhdCJyBAza/Rw=
  - secure: hagKmk7savK6TkMlwXdJ6uCkqK8kQwWKfox5f07axa8CIfYN5Q/uE2NDiH3sdkxzY2MUUA3IwzQRJVTj/mt0/uCL1uow2FTuiWvlJajLf6qJWSNktaHQzk0rKEUvNA5Ls3nOyYq8lVomQEi4p2/58EYIYp097SyUrd9Y8TwJ9bUR0ypTdsd/QtavjJJKHTKR/jkTcHPinQb1nghOQfRyR1Fvh3QyD3Dg3nrFpP7GnAWgqk5bAT2+N9WAeMdkQASFUP/MAA+I8BGDPjlhjw+zWwGpl9H6K5h+R2F7b1BEl1MZBK8wi4paqPbGzQtz4+CIWtErbdUeMZvnAzzFCpPGYhNMEb/K0YNCZs8eZKRCg+BniP9vhlD/Jl3VMPWjCTNmSergJ+fTEF+wozG+NkgXgFhcY5AYRiuHh5tqF1QZceHuPzPRRws36WHnenN5+z7ofS6yMtQ6yt3zcivB5FpRC011i1jXt2G/HaVWxav1D+r1ptK8ga+QhknIft1ye29XmnGkTpDuErEpN47WBq4JfpDh2x75+ScgNsspY67+diQAXLulqoGr+n5NqumdbEOD0PFVyooGGYOKkeLNfAzqIHFzPAAJFvA/SNvKHz6ciMLPdazW8lhbKZeo37W2sRCRqG/7tQu8ywLYSwQAtIARRJNY2F1Zf8doF3MHCfXFpHs=
  - secure: bfM9IAvVBynxPeCDeGbuniGtyrEkTM0c1dfo/ZPPNcOAt++4AJwC5jVhplzE7wdl84qbujJq43Jr3WKAO5WLSxuZJc1qzRUhm6Lppc4+QXBdFQ9URiAg157lc6b5Sd+SN4l+KEjvHRkO4Wde1Fr1ezICoi9aA1xHPDNIFM4/Kz7x6LigdJuzJBngUCMKDSde/GTmq4z6W58rvt87059B96y3yLSQ7KvQeIRx3q6V1DkWcCKCF6LlNPNA56DremFt80vOls4Mwi7XGY+QyZd7XU1LjWndBySFKZLrOSJe2wgO/QJTVPMkczcVlTCeM3iteqS2KBzM3bRewjnJ5paSIuznBpKqcLRxfWIz+ooA4j96k9akm3cic/HNyuva3Xxxh6e9I6kzM7PBg7WkI6gT0JdlQ477OifbLOFAp9j1YMZenyaciCY5kcPTpuY/MIXq1sfC6ga8o1fDlgtxcguQRukPOFYUFsgIHDT9AM3W1YuzOa0y+X7mMoQBl8c1KCzZIc/W+Oec0xdAF8/ZwXvlfPLfigzgAeG82a2HXJsaAzm9QczD7g+PYCBQyJLFH4wXb0XJnMcEIlbo1vUZHVTXgr2kcAsqTvHaixH228JHZ8XJCsxONRfmqGVfsNGwmOvCbUKV4hVj9sLJfGrC1y4VTZKugVEX++AT67AkcW6HL4I=
  - secure: m0CkUgZ0eNj7W6RNOPbgyYyE8ghKe/shnf7CMsE+R1FcReykEHNlCbERdiR3jRkyjTHrGBRWJWysOIdAfcNNTKII2S8Ubw0S9Vpd4PRGZlNVDy9zn5Ue/2/uINQuhOWhzd2jnUpjYLwZf9VTtJ2+MROvm02FKfmSkV5PQPKD2DH522W2Z6T9LXvEjZF919oRgPjHn4x/0Y4NN+hMv7sq4xLTfSTSznTsO5F88tTQq6a+5fp3B9/In6+ZAg2sQs9m9HdkPML/tieNSpoH8r9PKFyAlUYJqigzWxojn+Ihqc+dH5L6v9U5QoatWqqJWBPSpdfaDgcBX0KUMXSVj3l/+jvOyUZbiMmtgD21t+xUq3CYoPsj2X27900UJr8Qm6eJCuiIW7h578/Dj5KOwqXfgGVd8ZWGAmnd7LNjUdP0DNTya952symxTg6Yh1DoSIvzG++pNZFMcOdjkQ3bs6Ipin/gv6b3S0FFnLGG40I3v2m28XK95qxLA/Dln0HjOFpP8cZzmGFYS6znnd12o/eEtZnDwBW+5orbyROb/fzsNsUvvLDfVDX7i0KsGK3I5/D7SOh0XuCCBRaInXmUFMd4yOBfV/fckhJQtMSxnVEUFuc/Swuq7wCCBNtNsP1pvOUEYoiQb3QQN25lV4coQkjBjxtVOVah+ooYcji1yb7IPbE=
  - secure: LPB4NtF+6kbuBt/idgtccf2bVgkxdb8socLN27kX8XW7z1UDIbAJVQNXDj0jTYD9SbiaoJfTUW+1S7AshOvVxSj7VQA3BHKtw2ZR8zY+S90Z5O2RzCjuEVdb3zbp1kE67wHbHoaEEUQ9Dq830LXYXoL+n3zZ5D+N/QWMJtZ7wP0IRgovFYGooq4G4BN3ay+paBrsVVuGL5a7LlULqqB/UMULw5uFoxq95NjrV7xjm3kGytrC0fuNDMCsdtPWAiITyycqNQE5eSSctVJtxABkb/e+Sh095mVqsD/+Q7ezl4QGyNamR9c8DK2kZeSdb5mHA4F67C/hQX/FeRdDL60dqoN1LX/AT9vBLxTixE+d7w59EtoojnDNrSr6LNEPFFADGMX2BgBtCSXkfvaybyADf6mdANuJdmAcUC5TyKhO0Jz+ekZDtKIxYFB2S8lTW1cAnCcse2nl2NFDMoGgk4Ka90BjNhMMCBe/Ne90SfDKgrqH6YwbY7JLB+jbEamRMpWXqz4/0foHjV/LSNurv5NATPn+VRsvyw8GeyYqmw9xlCPiim/nmYfJ+RmgJpRG55S+ulaK0o/1eIEE702T6n7WmyC0daSMYsD1GpFdGVU4Lf60oVVZvaf8kRj4qcInywTPhuDnfazfO1tcx0/kCylUxsJFBrZ4RfvG4/wSV9inuA0=
